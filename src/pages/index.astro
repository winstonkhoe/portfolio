---
import Layout from "../layouts/Layout.astro";
import { Icon } from 'astro-icon';
import Home from "../components/Home.jsx";
const response = await fetch("https://api.github.com/graphql",
  {
    method: 'POST',
    headers: {'Content-Type':'application/json','Authorization': 'Bearer '+import.meta.env.GITHUB_TOKEN},
    // repositories(last: 20){
    body: JSON.stringify({
      query: `
        query getRepository($login:String!) {
            repositoryOwner(login: $login){
              repositories(first: 100, orderBy: {field: PUSHED_AT, direction: DESC}){
                nodes {
                  name
                  description
                  pushedAt
                  homepageUrl
                  repositoryTopics(first: 10) {
                    nodes {
                      topic {
                        name
                      }
                    }
                  }
                  languages(first: 10) {
                    nodes {
                      name
                    }
                  }
                }
              }
            }
          }
        `,
      variables: {
        login: "winstonkhoe",
      },
    }),
  })

  const data = await response.json()
  // console.log(data.data.repositoryOwner.repositories)
  const repositories = data.data.repositoryOwner.repositories

  interface Tech {
    image: string,
    name: string
  }


// <a href="#" aria-label={tech.name} onmouseover={()=>{
//                   active = tech.name
//                   console.log(active)
//                 }}><img src={"images/"+tech.image} alt=""></a>

let active = ""
// <a href="#" aria-label="Android"><img src="images/android.png" alt=""></a>
  // <a href="#" aria-label="NextJS"><img src="images/nextjs.png" alt=""></a>
  // <a href="#" aria-label="Bootstrap"><img src="images/bootstrap.svg" alt=""></a>
  // <a href="#" aria-label="Angular"><img src="images/angular.png" alt=""></a>
  // <a href="#" aria-label="Tensorflow"><img src="images/tensorflow.png" alt=""></a>
  // <a href="#" aria-label="MySQL"><img src="images/mysql.png" alt=""></a>
  // <a href="#" aria-label="Flutter"><img src="images/flutter.png" alt=""></a>
  // <a href="#" aria-label="Go"><img src="images/golang.png" alt=""></a>
  // <a href="#" aria-label="Astro"><img src="images/astro-hero.png" alt=""></a>
  // <a href="#" aria-label="Laravel"><img src="images/laravel.png" alt=""></a>
  // <a href="#" aria-label="Tailwind"><img src="images/tailwind.png" alt=""></a>
  // <a href="#" aria-label="Laravel"><img src="images/graphql.png" alt=""></a>
  // <a href="#" aria-label="C-Sharp"><img src="images/c-sharp.webp" alt=""></a>
  // <a href="#" aria-label="C-Sharp"><img src="images/firebase-white.png" alt=""></a>
  // <a href="#" aria-label="C-Sharp"><img src="images/c-sharp.webp" alt=""></a>
  // <a href="#" aria-label="C-Sharp"><img src="images/c-sharp.webp" alt=""></a>
  // <a href="#" aria-label="C-Sharp"><img src="images/c-sharp.webp" alt=""></a>
  // <a href="#" aria-label="C-Sharp"><img src="images/c-sharp.webp" alt=""></a>
  // <a href="#" aria-label="C-Sharp"><img src="images/c-sharp.webp" alt=""></a>
---
<Layout title="Home">
    <Home client:only="react">
      <a class="h-8 w-8" href="#"><Icon name="mdi:github"/></a>
      <a class="h-8 w-8" href="#"><Icon name="mdi:linkedin"/></a>
      <a class="h-8 w-8" href="#"><Icon name="mdi:instagram"/></a>
    </Home>
</Layout>

<style lang="scss">
  section {
    transform-style: preserve-3d;
  }

  body {
    background: var(--dark-bg);
    // background: white;
    font-size: var(--fs-400);
    color: white;
    padding: 20vw 0;
    font-family: sans-serif;
    overflow-x: hidden;
  }

  .uppercase {
    text-transform: uppercase;
  }

  .text-primary {
    color: var(--clr-primary);
  }

  .text-accent {
    color: var(--clr-secondary);
  }

  .fs-700 {
    font-size: var(--fs-700);
    line-height: 1;
  }

  .bg-primary {
    background-color: var(--clr-primary);
  }

  .bg-accent {
    background-color: var(--clr-accent);
  }

  .container {
    padding: 0rem 2rem;
    max-width: 75rem;
    margin: 0 auto;
  }

  .flex {
    display: flex;
    gap: var(--gap, 1rem);
  }

  .grid {
    display: grid;
    gap: var(--gap, 1rem);
  }

  .grid--columns {
    grid-auto-columns: 1fr;
    grid-auto-flow: column;
  }

  /* featured grid */

  .feature-grid-container {
    perspective: 100rem;
    position: relative;
  }

  .feature-grid-text {
    padding: 1rem;
    background: linear-gradient(
      90deg,
      hsl(255 50% 0% / 0.8) 75%,
      hsl(255 50% 50% / 0)
    );
    box-shadow: rgba(255, 255, 255, 0.01) 0px 1px 2px, rgba(255, 255, 255, 0.01) 0px 2px 4px, rgba(255, 255, 255, 0.01) 0px 4px 8px, rgba(255, 255, 255, 0.01) 0px 8px 16px, rgba(255, 255, 255, 0.01) 0px 16px 32px, rgba(255, 255, 255, 0.01) 0px 32px 64px;
    border-radius: 10px;
  }

  .feature-grid {
    position: relative;
    z-index: -1;
    left: min(calc(1000px - 100vw) * -1, 0px);
    width: 45rem;
    height: 30rem;
    align-self: center;
    grid-template-columns: repeat(6, 1fr);
    grid-template-rows: repeat(6, 1fr);
    transform-origin: left;
    transform: rotateY(40deg);
  }

  .feature-grid {
    > a {
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 0.75em;
      transition: transform 350ms ease-in-out;
      background-color: #1a1a1a;
      overflow: hidden;
      > img {
        object-fit: cover;
        max-height: 80%;
        max-width: 80%;
      }
    }
  }

  .feature-grid > a:hover,
  .feature-grid > a:focus-visible {
    transform: scale(1.1);
    box-shadow: 0 0 1.5rem hsl(0 0% 100% / 0.8);
  }

  .feature-grid > :nth-child(1),
  .feature-grid > :nth-child(6),
  .feature-grid > :nth-child(7),
  .feature-grid > :nth-child(13)
  {
    grid-row: span 3;
  }

  .feature-grid > :nth-child(7) {
    grid-row: 4 / span 3;
  }

  .feature-grid > :nth-child(5),
  .feature-grid > :nth-child(8),
  {
    grid-row: span 4;
  }

  .feature-grid > :nth-child(2),
  .feature-grid > :nth-child(3),
  .feature-grid > :nth-child(4), 
  .feature-grid > :nth-child(10),
  .feature-grid > :nth-child(11), 
  .feature-grid > :nth-child(12) 
  {
    grid-row: span 2;
  }

  .feature-grid > :nth-child(10) {
    grid-row: 5 / span 2;
    grid-column: 3 / span 1;
  }

  .feature-grid > :nth-child(11) {
    grid-row: 5 / span 2;
    grid-column: 4 / span 1;
  }

  .feature-grid > :nth-child(12) {
    grid-row: 5 / span 2;
    grid-column: 5 / span 1;
  }

  .feature-grid > :nth-child(9) {
    grid-column: 3 / span 2;
    grid-row: 3 / span 2;

    img {
      width: 100%;
      height: 100%;
      max-width: 100%;
      max-height: 100%;
    }
  }
</style>
